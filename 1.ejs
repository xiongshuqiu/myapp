const elderlies = [
  {
    elderlyId: 'E001',
    elderlyName: 'Elderly 1',
    elderlyPhone: '5551234567',
    dateOfBirth: new Date('1940-01-01'),
    gender: 'Male',
    address: '123 Elderly St, City, Country',
    photo: 'https://github.com/xiongshuqiu/images/blob/992044c5319d96f67ff22493f2570dd24f9211c6/elderly/man01.jpg?raw=true',
    emergencyContactName: 'Family Member 1',
    emergencyContactPhone: '5551111111',
    userId: 'F001',
    employeeId: 'S002',
  },
  // 更多记录...
];

const fixPhotoUrl = (url) => {
  try {
    return Buffer.from(url, 'base64').toString('utf-8');
  } catch (error) {
    return url;
  }
};

const fixElderliesPhotoUrls = (elderlies) => {
  return elderlies.map(elderly => {
    return {
      ...elderly,
      photo: fixPhotoUrl(elderly.photo),
    };
  });
};

const fixedElderlies = fixElderliesPhotoUrls(elderlies);
