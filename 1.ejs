// 后端控制器代码
const renderNewBedAssignmentForm = async (req, res) => {
  try {
    // 顺序查找可用的 bedId
    const availableBedIds = await BedStatus.find({ status: 'available' }).select('bedId');

    // 顺序查找存在的 elderlyId
    const existingElderlyIds = await Elderly.find().select('elderlyId');

    console.log('Available Bed IDs:', availableBedIds);
    console.log('Existing Elderly IDs:', existingElderlyIds);

    return res.status(200).json({
      success: true,
      message: 'bedId and elderlyId retrieved successfully',
      data: { availableBedIds, existingElderlyIds },
    });
  } catch (err) {
    console.error('Error retrieving bedId and elderlyId:', err.message); // 调试信息
    res.status(500).json({ success: false, message: err.message });
  }
};

// 确保正确配置路由
const express = require('express');
const router = express.Router();

router.get('/beds/assignment/new', renderNewBedAssignmentForm);

module.exports = router;
